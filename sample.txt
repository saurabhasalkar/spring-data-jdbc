package com.example.workdays.repository;

import com.example.workdays.entity.Holiday;
import org.springframework.data.jpa.repository.JpaRepository;

import java.time.LocalDate;
import java.util.List;
import java.util.Set;
import java.util.stream.Collectors;

public interface HolidayRepository extends JpaRepository<Holiday, Long> {
    List<Holiday> findAllByDateBetween(LocalDate startInclusive, LocalDate endInclusive);

    default Set<LocalDate> findDatesBetween(LocalDate start, LocalDate end) {
        return findAllByDateBetween(start, end)
                .stream()
                .map(Holiday::getDate)
                .collect(Collectors.toSet());
    }
}